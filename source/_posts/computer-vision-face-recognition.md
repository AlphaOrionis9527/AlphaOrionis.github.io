# ğŸ“š è®¡ç®—æœºè§†è§‰ä¸äººè„¸è¯†åˆ«æŠ€æœ¯ç»¼åˆæŒ‡å—

## ä¸€ã€å¼•è¨€

åœ¨å½“ä»Šäººå·¥æ™ºèƒ½å¿«é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œè®¡ç®—æœºè§†è§‰å·²ç»æˆä¸ºæœ€å…·å½±å“åŠ›çš„æŠ€æœ¯é¢†åŸŸä¹‹ä¸€ã€‚ä»æ™ºèƒ½æ‰‹æœºçš„äººè„¸è§£é”ï¼Œåˆ°è‡ªåŠ¨é©¾é©¶æ±½è½¦çš„é“è·¯è¯†åˆ«ï¼Œå†åˆ°åŒ»ç–—å½±åƒçš„æ™ºèƒ½è¯Šæ–­ï¼Œè®¡ç®—æœºè§†è§‰æ­£åœ¨æ·±åˆ»æ”¹å˜æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚

æœ¬æ–‡å°†ç³»ç»Ÿæ€§åœ°ä»‹ç»è®¡ç®—æœºè§†è§‰çš„æ ¸å¿ƒæŠ€æœ¯ï¼ŒåŒ…æ‹¬å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ã€ç›®æ ‡æ£€æµ‹ã€è¯­ä¹‰åˆ†å‰²ã€äººè„¸è¯†åˆ«ç­‰å…³é”®æŠ€æœ¯ï¼Œå¹¶æ·±å…¥æ¢è®¨æˆ‘ä»¬å®é™…æ­å»ºçš„å®æ—¶äººè„¸ç›‘æ§ç³»ç»Ÿã€‚æœ€åï¼Œæˆ‘ä»¬å°†å±•æœ›è®¡ç®—æœºè§†è§‰é¢†åŸŸçš„å‰æ²¿åº”ç”¨ä¸å‘å±•è¶‹åŠ¿ã€‚

---

## äºŒã€è®¡ç®—æœºè§†è§‰åŸºç¡€

### 2.1 ä»€ä¹ˆæ˜¯è®¡ç®—æœºè§†è§‰ï¼Ÿ

**è®¡ç®—æœºè§†è§‰ï¼ˆComputer Visionï¼‰** æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªé‡è¦åˆ†æ”¯ï¼Œè‡´åŠ›äºè®©æœºå™¨"çœ‹æ‡‚"å›¾åƒå’Œè§†é¢‘ã€‚å°±åƒäººç±»ç”¨çœ¼ç›è§‚å¯Ÿä¸–ç•Œä¸€æ ·ï¼Œè®¡ç®—æœºè§†è§‰ç³»ç»Ÿé€šè¿‡æ‘„åƒå¤´"è§‚å¯Ÿ"ä¸–ç•Œï¼Œå¹¶ä»ä¸­æå–æœ‰æ„ä¹‰çš„ä¿¡æ¯ã€‚

**æ ¸å¿ƒä»»åŠ¡åŒ…æ‹¬ï¼š**

| ä»»åŠ¡ç±»å‹ | æè¿° | åº”ç”¨åœºæ™¯ |
|---------|------|---------|
| å›¾åƒåˆ†ç±» | è¯†åˆ«å›¾åƒä¸­çš„ä¸»è¦ç‰©ä½“ç±»åˆ« | ç…§ç‰‡åˆ†ç±»ã€å•†å“è¯†åˆ« |
| ç›®æ ‡æ£€æµ‹ | å®šä½å¹¶è¯†åˆ«å›¾åƒä¸­çš„å¤šä¸ªç‰©ä½“ | è‡ªåŠ¨é©¾é©¶ã€å®‰é˜²ç›‘æ§ |
| è¯­ä¹‰åˆ†å‰² | ä¸ºå›¾åƒä¸­æ¯ä¸ªåƒç´ æ ‡æ³¨ç±»åˆ« | åŒ»å­¦å½±åƒã€è‡ªåŠ¨é©¾é©¶ |
| äººè„¸è¯†åˆ« | è¯†åˆ«å’ŒéªŒè¯äººè„¸èº«ä»½ | åˆ·è„¸æ”¯ä»˜ã€é—¨ç¦ç³»ç»Ÿ |
| å§¿æ€ä¼°è®¡ | æ£€æµ‹äººä½“å…³é”®ç‚¹å’Œå§¿æ€ | åŠ¨ä½œæ•æ‰ã€ä½“è‚²åˆ†æ |

### 2.2 è§†è§‰å¤„ç†çš„æµç¨‹

```
åŸå§‹å›¾åƒ â†’ é¢„å¤„ç† â†’ ç‰¹å¾æå– â†’ æ·±åº¦å­¦ä¹ æ¨¡å‹ â†’ ç»“æœè¾“å‡º
   â†“           â†“           â†“            â†“
  æ‘„åƒå¤´     è£å‰ª/ç¼©æ”¾    æå–ç‰¹å¾     åˆ†ç±»/æ£€æµ‹/åˆ†å‰²
  é‡‡é›†      å½’ä¸€åŒ–      CNNç‰¹å¾
```

---

## ä¸‰ã€æ·±åº¦å­¦ä¹ ä¸å·ç§¯ç¥ç»ç½‘ç»œ

### 3.1 å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ç®€ä»‹

**å·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Network, CNNï¼‰** æ˜¯è®¡ç®—æœºè§†è§‰é¢†åŸŸæœ€æˆåŠŸçš„æ·±åº¦å­¦ä¹ æ¶æ„ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡**å·ç§¯æ“ä½œ**è‡ªåŠ¨å­¦ä¹ å›¾åƒä¸­çš„å±€éƒ¨ç‰¹å¾ã€‚

**CNNçš„æ ¸å¿ƒç»„ä»¶ï¼š**

| ç»„ä»¶ | åŠŸèƒ½ | ç±»æ¯” |
|-----|------|-----|
| **å·ç§¯å±‚** | æå–è¾¹ç¼˜ã€çº¹ç†ç­‰å±€éƒ¨ç‰¹å¾ | çœ¼ç›è§‚å¯Ÿç»†èŠ‚ |
| **æ± åŒ–å±‚** | é™ä½è®¡ç®—é‡ï¼Œä¿ç•™ä¸»è¦ç‰¹å¾ | ç¼©å°å›¾ç‰‡ä¿ç•™è½®å»“ |
| **æ¿€æ´»å‡½æ•°** | å¼•å…¥éçº¿æ€§ï¼Œå¢åŠ è¡¨è¾¾èƒ½åŠ› | ç¥ç»å…ƒçš„"å¼€å…³" |
| **å…¨è¿æ¥å±‚** | å°†ç‰¹å¾æ˜ å°„åˆ°ç±»åˆ«ç©ºé—´ | å¤§è„‘åšå‡ºåˆ¤æ–­ |
| **Dropout** | é˜²æ­¢è¿‡æ‹Ÿåˆ | éšæœº"å…³é—­"ä¸€äº›ç¥ç»å…ƒ |

### 3.2 ç»å…¸CNNæ¶æ„æ¼”è¿›

```
LeNet (1998)
  â†“
AlexNet (2012) - ImageNetçªç ´
  â†“
VGG (2014) - æ·±ç½‘ç»œã€æ ‡å‡†åŒ–
  â†“
GoogLeNet/Inception (2014) - å¤šå°ºåº¦å¹¶è¡Œ
  â†“
ResNet (2015) - æ®‹å·®è¿æ¥ï¼Œè§£å†³æ·±åº¦ç½‘ç»œè®­ç»ƒé—®é¢˜
  â†“
EfficientNet (2019) - ç½‘ç»œæ¶æ„æœç´¢ä¼˜åŒ–
  â†“
Vision Transformer (2020) - æ³¨æ„åŠ›æœºåˆ¶å¼•å…¥è§†è§‰
```

### 3.3 è¿ç§»å­¦ä¹ ï¼šç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š

åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘ä»é›¶å¼€å§‹è®­ç»ƒCNNã€‚**è¿ç§»å­¦ä¹ ï¼ˆTransfer Learningï¼‰** è®©æˆ‘ä»¬å¯ä»¥åˆ©ç”¨åœ¨å¤§è§„æ¨¡æ•°æ®é›†ï¼ˆå¦‚ImageNetï¼‰ä¸Šé¢„è®­ç»ƒçš„æ¨¡å‹ï¼š

```
é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå·²å­¦ä¹ é€šç”¨ç‰¹å¾ï¼‰
      â†“
å†»ç»“å‰å‡ å±‚ï¼ˆä¿ç•™ä½çº§ç‰¹å¾ï¼‰
      â†“
åœ¨ç›®æ ‡ä»»åŠ¡æ•°æ®ä¸Šå¾®è°ƒæœ€åå‡ å±‚
      â†“
å¿«é€Ÿé€‚é…æ–°ä»»åŠ¡
```

**ä¼˜åŠ¿ï¼š**
- âœ… è®­ç»ƒé€Ÿåº¦å¿«10-100å€
- âœ… éœ€è¦çš„æ•°æ®é‡æ›´å°‘
- âœ… æ€§èƒ½æ›´ç¨³å®šå¯é 

---

## å››ã€ç›®æ ‡æ£€æµ‹æŠ€æœ¯

### 4.1 ä¸¤ç±»æ£€æµ‹æ–¹æ³•å¯¹æ¯”

| æ–¹æ³• | ä»£è¡¨æ¨¡å‹ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|-----|---------|------|------|---------|
| **ä¸¤é˜¶æ®µæ£€æµ‹** | R-CNNç³»åˆ— | ç²¾åº¦é«˜ | é€Ÿåº¦æ…¢ | éœ€è¦é«˜ç²¾åº¦çš„åœºæ™¯ |
| **å•é˜¶æ®µæ£€æµ‹** | YOLOç³»åˆ— | é€Ÿåº¦å¿« | ç²¾åº¦ç¨ä½ | å®æ—¶åº”ç”¨ |

### 4.2 YOLOç³»åˆ—è¯¦è§£

**YOLOï¼ˆYou Only Look Onceï¼‰** æ˜¯æœ€æµè¡Œçš„å®æ—¶ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼š

| ç‰ˆæœ¬ | å¹´ä»½ | ç‰¹ç‚¹ |
|-----|------|------|
| YOLOv1 | 2016 | å¼€åˆ›å•é˜¶æ®µæ£€æµ‹å…ˆæ²³ |
| YOLOv3 | 2018 | å¤šå°ºåº¦æ£€æµ‹ï¼Œç²¾åº¦ä¸é€Ÿåº¦å¹³è¡¡ |
| YOLOv5 | 2020 | å·¥ç¨‹åŒ–æˆç†Ÿï¼Œæ˜“äºéƒ¨ç½² |
| YOLOv8 | 2023 | ç²¾åº¦ä¸é€Ÿåº¦å…¨é¢æå‡ |
| YOLOv10 | 2024 | ç«¯åˆ°ç«¯ä¼˜åŒ–ï¼Œæ— NMSè®¾è®¡ |

**YOLOv8çš„æ ¸å¿ƒæ”¹è¿›ï¼š**

```python
# ä½¿ç”¨YOLOv8è¿›è¡Œç›®æ ‡æ£€æµ‹
from ultralytics import YOLO

model = YOLO('yolov8n.pt')  # åŠ è½½é¢„è®­ç»ƒæ¨¡å‹
results = model('street.jpg')  # æ¨ç†
results[0].show()  # æ˜¾ç¤ºæ£€æµ‹ç»“æœ
```

**åº”ç”¨åœºæ™¯ï¼š**
- ğŸš— æ™ºèƒ½äº¤é€šï¼šè½¦è¾†æ£€æµ‹ã€äº¤é€šæ ‡å¿—è¯†åˆ«
- ğŸ­ å·¥ä¸šè´¨æ£€ï¼šäº§å“ç¼ºé™·æ£€æµ‹
- ğŸ¥ åŒ»ç–—å½±åƒï¼šç—…ç¶æ£€æµ‹
- ğŸŒ¾ å†œä¸šï¼šç—…è™«å®³è¯†åˆ«

### 4.3 å®æ—¶ç›®æ ‡æ£€æµ‹çš„åº”ç”¨æ¶æ„

```
æ‘„åƒå¤´æµ â†’ å¸§é¢„å¤„ç† â†’ YOLOæ¨ç† â†’ NMSåå¤„ç† â†’ ç»“æœè¾“å‡º
            â†“            â†“           â†“
         ç¼©æ”¾/å½’ä¸€åŒ–   GPUåŠ é€Ÿ     è¿‡æ»¤é‡å æ¡†
```

---

## äº”ã€äººè„¸è¯†åˆ«æŠ€æœ¯

### 5.1 äººè„¸è¯†åˆ«ç³»ç»Ÿæ¶æ„

```
äººè„¸æ£€æµ‹ â†’ äººè„¸å¯¹é½ â†’ ç‰¹å¾æå– â†’ ç‰¹å¾åŒ¹é… â†’ èº«ä»½è¯†åˆ«
    â†“          â†“          â†“          â†“
  MTCNN      å…³é”®ç‚¹     128ç»´å‘é‡   ä½™å¼¦ç›¸ä¼¼åº¦
  RetinaFace å®šä½       ç¼–ç        æ¯”å¯¹
```

### 5.2 æ ¸å¿ƒæŠ€æœ¯è¯¦è§£

#### 5.2.1 äººè„¸æ£€æµ‹

**ç›®çš„ï¼š** åœ¨å›¾åƒä¸­å®šä½äººè„¸çš„ä½ç½®

**å¸¸ç”¨æ–¹æ³•ï¼š**

| æ–¹æ³• | åº“/æ¨¡å‹ | ç‰¹ç‚¹ |
|-----|--------|------|
| MTCNN | mtcnn | å¤šä»»åŠ¡çº§è”ç½‘ç»œï¼Œå¯åŒæ—¶æ£€æµ‹äººè„¸å’Œå…³é”®ç‚¹ |
| RetinaFace | insightface | é«˜ç²¾åº¦ï¼Œæ”¯æŒå¯†é›†äººè„¸ |
| MediaPipe | Google | è½»é‡çº§ï¼ŒCPUå®æ—¶è¿è¡Œ |
| dlib | dlib | ä¼ ç»Ÿæ–¹æ³•ï¼ŒHOGç‰¹å¾ |

#### 5.2.2 äººè„¸å¯¹é½

**ç›®çš„ï¼š** çŸ«æ­£äººè„¸å§¿æ€ï¼Œä½¿ç‰¹å¾ç‚¹å¯¹é½åˆ°æ ‡å‡†ä½ç½®

**è¿‡ç¨‹ï¼š**
1. æ£€æµ‹5ä¸ª/68ä¸ªå…³é”®ç‚¹
2. è®¡ç®—ç›¸ä¼¼å˜æ¢çŸ©é˜µ
3. ä»¿å°„å˜æ¢å¯¹é½åˆ°æ ‡å‡†æ¨¡æ¿

#### 5.2.3 ç‰¹å¾æå–

**ç›®çš„ï¼š** å°†äººè„¸å›¾åƒç¼–ç ä¸ºå›ºå®šé•¿åº¦çš„ç‰¹å¾å‘é‡

**å¸¸ç”¨æ¨¡å‹ï¼š**

| æ¨¡å‹ | å‘é‡ç»´åº¦ | ç‰¹ç‚¹ |
|-----|---------|------|
| FaceNet | 128/512 | ä¸‰å…ƒç»„æŸå¤±ï¼ŒGoogle |
| ArcFace | 512 | åŠ æ€§è§’é—´éš”æŸå¤±ï¼Œé«˜ç²¾åº¦ |
| CosFace | 512 | ä½™å¼¦é—´éš”æŸå¤± |
| dlib-resnet | 128 | è½»é‡çº§ï¼Œæ˜“äºä½¿ç”¨ |

**ç‰¹å¾å‘é‡ï¼ˆåµŒå…¥ç©ºé—´ï¼‰çš„ç‰¹æ€§ï¼š**
```
åŒä¸€äººçš„äººè„¸ â†’ å‘é‡è·ç¦»è¿‘
ä¸åŒäººçš„äººè„¸ â†’ å‘é‡è·ç¦»è¿œ
```

#### 5.2.4 ç‰¹å¾åŒ¹é…

**ç›®çš„ï¼š** æ¯”è¾ƒä¸¤ä¸ªç‰¹å¾å‘é‡çš„ç›¸ä¼¼åº¦

**å¸¸ç”¨è·ç¦»åº¦é‡ï¼š**

| åº¦é‡æ–¹æ³• | å…¬å¼ | ç‰¹ç‚¹ |
|---------|------|------|
| æ¬§æ°è·ç¦» | âˆš(Î£(x-y)Â²) | ç›´è§‚ï¼Œå¸¸è§ |
| ä½™å¼¦ç›¸ä¼¼åº¦ | (xÂ·y)/(|x||y| | ) | å¯¹å‘é‡é•¿åº¦ä¸æ•æ„Ÿ |
| æ›¼å“ˆé¡¿è·ç¦» | Î£|x-y | å¯¹å¼‚å¸¸å€¼æ›´é²æ£’ |

### 5.3 æˆ‘ä»¬çš„äººè„¸è¯†åˆ«ç³»ç»Ÿå®ç°

#### 5.3.1 ç³»ç»Ÿæ¶æ„

```
Macä¸»æœº                         Parallels VM
    â”‚                              â”‚
    â”‚  ğŸ“¹ è§†é¢‘æµä¼ è¾“                â”‚  ğŸ¤– äººè„¸è¯†åˆ«
    â”‚  Flask + OpenCV              â”‚  face_recognition
    â”‚  MJPEG streaming             â”‚  Pythonå®ˆæŠ¤è¿›ç¨‹
    â”‚                              â”‚
    â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ç³»ç»Ÿæ¶æ„å›¾                          â”‚
â”‚                                             â”‚
â”‚  Mac (192.168.10.107)    VM (192.168.64.7)  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æ‘„åƒå¤´      â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  è§†é¢‘æ¥æ”¶     â”‚   â”‚
â”‚  â”‚  é‡‡é›†      â”‚  HTTP   â”‚  è§£ç          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚              â”‚
â”‚                              â–¼              â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                        â”‚  äººè„¸æ£€æµ‹      â”‚   â”‚
â”‚                        â”‚  + ç¼–ç        â”‚   â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚              â”‚
â”‚                              â–¼              â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                        â”‚  ä¸å·²çŸ¥ç¼–ç     â”‚   â”‚
â”‚                        â”‚  æ¯”å¯¹         â”‚   â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚              â”‚
â”‚                              â–¼              â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                        â”‚  è¯†åˆ«ç»“æœ      â”‚   â”‚
â”‚                        â”‚  + è¯­éŸ³æ’­æŠ¥   â”‚   â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.3.2 æ ¸å¿ƒä»£ç å®ç°

**è§†é¢‘æµæœåŠ¡å™¨ï¼ˆMacä¸»æœºï¼‰ï¼š**

```python
# video_server.py
import cv2
from flask import Flask, Response

app = Flask(__name__)
camera = cv2.VideoCapture(0)  # æ‰“å¼€æ‘„åƒå¤´

def generate_frames():
    while True:
        success, frame = camera.read()
        if not success:
            break
        
        # JPEGç¼–ç 
        _, buffer = cv2.imencode('.jpg', frame)
        frame_bytes = buffer.tobytes()
        
        # MJPEGæµè¾“å‡º
        yield (b'--frame\r\n'
               b'Content-Type: image/jpeg\r\n\r\n' + frame_bytes + b'\r\n')

@app.route('/video_feed')
def video_feed():
    return Response(generate_frames(),
                   mimetype='multipart/x-mixed-replace; boundary=frame')

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8000)
```

**äººè„¸è¯†åˆ«å®ˆæŠ¤è¿›ç¨‹ï¼ˆVMï¼‰ï¼š**

```python
# face_monitor.py
import cv2
import numpy as np
import face_recognition
import time
import os
from pathlib import Path

# è·¯å¾„é…ç½®
FACE_DATA_DIR = Path("~/.face_data").expanduser()
USER_ENCODING = FACE_DATA_DIR / "äºç†åš.npy"
PREVIEW_PATH = FACE_DATA_DIR / "preview.jpg"
STATUS_FILE = FACE_DATA_DIR / ".detection_status.json"

class FaceMonitor:
    def __init__(self):
        self.known_encoding = self.load_face_encoding()
        self.last_seen = None
        self.status_file = STATUS_FILE
        
    def load_face_encoding(self):
        """åŠ è½½å·²çŸ¥äººè„¸ç¼–ç """
        if USER_ENCODING.exists():
            return np.load(str(USER_ENCODING))
        return None
    
    def detect_and_recognize(self, frame):
        """æ£€æµ‹å¹¶è¯†åˆ«äººè„¸"""
        # æ£€æµ‹äººè„¸ä½ç½®
        face_locations = face_recognition.face_locations(frame)
        
        if not face_locations:
            return None, 0
        
        # ç¼–ç æ£€æµ‹åˆ°çš„äººè„¸
        face_encodings = face_recognition.face_encodings(frame, face_locations)
        
        # ä¸å·²çŸ¥äººè„¸æ¯”å¯¹
        for i, face_encoding in enumerate(face_encodings):
            matches = face_recognition.compare_faces(
                [self.known_encoding], 
                face_encoding
            )
            if matches[0]:
                return face_locations[i], 1
        
        return face_locations[0], 0
    
    def run(self):
        """ä¸»å¾ªç¯ï¼šæ¯2ç§’æ£€æµ‹ä¸€æ¬¡"""
        video_url = "http://192.168.10.107:8000/video_feed"
        cap = cv2.VideoCapture(video_url)
        
        while True:
            ret, frame = cap.read()
            if not ret:
                time.sleep(2)
                continue
            
            # æ¯2ç§’æ£€æµ‹ä¸€æ¬¡
            location, confidence = self.detect_and_recognize(frame)
            
            if location and confidence > 0:
                current_time = time.time()
                # é¿å…é‡å¤æ’­æŠ¥ï¼ˆ30ç§’å†·å´ï¼‰
                if (not self.last_seen or 
                    current_time - self.last_seen > 30):
                    self.greet_user()
                    self.last_seen = current_time
            
            time.sleep(2)
    
    def greet_user(self):
        """è¯­éŸ³æ’­æŠ¥"""
        os.system('say -v Meijia "å—¨ï¼Œäºç†åšï¼ä½ å›æ¥å•¦ï¼ğŸ˜Š"')
        print("ğŸ‘‹ æ£€æµ‹åˆ°ç”¨æˆ·ï¼Œå·²æ’­æŠ¥é—®å€™")

if __name__ == "__main__":
    monitor = FaceMonitor()
    monitor.run()
```

#### 5.3.3 ä½¿ç”¨dlibè¿›è¡Œäººè„¸ç¼–ç 

```python
# register_face.py - äººè„¸æ³¨å†Œè„šæœ¬
import cv2
import face_recognition
import numpy as np
from pathlib import Path

def register_face(name, image_path, output_path):
    """æ³¨å†Œæ–°äººè„¸"""
    # åŠ è½½å›¾åƒ
    image = cv2.imread(str(image_path))
    rgb_image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)
    
    # æ£€æµ‹äººè„¸ä½ç½®
    face_locations = face_recognition.face_locations(rgb_image)
    
    if not face_locations:
        raise ValueError("æœªæ£€æµ‹åˆ°äººè„¸")
    
    # ç”Ÿæˆ128ç»´ç‰¹å¾å‘é‡
    face_encoding = face_recognition.face_encodings(rgb_image)[0]
    
    # ä¿å­˜ä¸º.npyæ–‡ä»¶
    np.save(str(output_path), face_encoding)
    
    # ä¿å­˜é¢„è§ˆå›¾
    for i, (top, right, bottom, left) in enumerate(face_locations):
        face_image = image[top:bottom, left:right]
        cv2.imwrite(str(output_path.with_suffix('.jpg')), face_image)
    
    print(f"âœ… äººè„¸æ³¨å†ŒæˆåŠŸ: {name}")
    print(f"   ç¼–ç ç»´åº¦: {len(face_encoding)}")

# ä½¿ç”¨
register_face(
    "äºç†åš",
    Path("~/.face_data/photo.jpg"),
    Path("~/.face_data/äºç†åš.npy")
)
```

---

## å…­ã€è®¡ç®—æœºè§†è§‰å‰æ²¿åº”ç”¨

### 6.1 è‡ªåŠ¨é©¾é©¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            è‡ªåŠ¨é©¾é©¶æ„ŸçŸ¥ç³»ç»Ÿ               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ‘„åƒå¤´ â”€â”€â–¶ ç›®æ ‡æ£€æµ‹ï¼ˆè½¦è¾†/è¡Œäºº/æ ‡å¿—ï¼‰      â”‚
â”‚  é›·è¾¾ â”€â”€â–¶ è·ç¦»æ£€æµ‹                       â”‚
â”‚  æ¿€å…‰é›·è¾¾ â”€â”€â–¶ 3Dç‚¹äº‘åˆ†å‰²                  â”‚
â”‚  èåˆ â”€â”€â–¶ ç¯å¢ƒå»ºæ¨¡                       â”‚
â”‚            â†“                            â”‚
â”‚  å†³ç­–è§„åˆ’ â”€â”€â–¶ æ§åˆ¶æ‰§è¡Œ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®æŠ€æœ¯ï¼š**
- å¤šä¼ æ„Ÿå™¨èåˆ
- å®æ—¶ç›®æ ‡æ£€æµ‹ï¼ˆYOLO, DETRï¼‰
- è¯­ä¹‰åˆ†å‰²ï¼ˆDeepLab, U-Netï¼‰
- è¡Œä¸ºé¢„æµ‹

### 6.2 åŒ»ç–—å½±åƒè¯Šæ–­

| ä»»åŠ¡ | åº”ç”¨ | æ¨¡å‹ |
|-----|------|-----|
| è‚¿ç˜¤æ£€æµ‹ | CT/MRIå½±åƒåˆ†æ | U-Net, ResNet |
| çœ¼åº•ç—…å˜ | ç³–å°¿ç—…è§†ç½‘è†œç—…å˜ç­›æŸ¥ | EfficientNet |
| ç—…ç†åˆ‡ç‰‡ | ç™Œç»†èƒæ£€æµ‹ | Vision Transformer |
| éª¨æŠ˜æ£€æµ‹ | Xå…‰ç‰‡åˆ†æ | YOLO |

### 6.3 å·¥ä¸šè§†è§‰æ£€æµ‹

```
äº§å“æµæ°´çº¿ â†’ å·¥ä¸šç›¸æœº â†’ ç¼ºé™·æ£€æµ‹æ¨¡å‹ â†’ è‡ªåŠ¨åˆ†æ‹£
                          â†“
                     ç²¾åº¦>99%
```

**åº”ç”¨åœºæ™¯ï¼š**
- âœ… è¡¨é¢ç¼ºé™·æ£€æµ‹
- âœ… å°ºå¯¸æµ‹é‡
- âœ… è£…é…å®Œæ•´æ€§æ£€æŸ¥
- âœ… å­—ç¬¦è¯†åˆ«

### 6.4 å®‰é˜²ç›‘æ§

| åŠŸèƒ½ | æŠ€æœ¯ | è¯´æ˜ |
|-----|------|------|
| äººè„¸é—¨ç¦ | äººè„¸è¯†åˆ« | 1:Nèº«ä»½éªŒè¯ |
| è¡Œä¸ºåˆ†æ | æ—¶åºæ¨¡å‹ | å¼‚å¸¸è¡Œä¸ºæ£€æµ‹ |
| äººç¾¤å¯†åº¦ | å¯†åº¦ä¼°è®¡ | é˜²æ­¢è¸©è¸äº‹æ•… |
| è½¦ç‰Œè¯†åˆ« | OCR | è½¦è¾†ç®¡ç† |

### 6.5 æ–°å…´åº”ç”¨

#### 6.5.1 å¤šæ¨¡æ€å¤§æ¨¡å‹

**GPT-4Vã€Gemini** ç­‰å¤šæ¨¡æ€æ¨¡å‹èƒ½å¤Ÿï¼š

- ğŸ” ç†è§£å›¾åƒå†…å®¹å¹¶å›ç­”é—®é¢˜
- âœï¸ æ ¹æ®å›¾åƒç”Ÿæˆæè¿°æˆ–æ•…äº‹
- ğŸ¨ å›¾åƒç¼–è¾‘å’Œç”Ÿæˆ
- ğŸ“ æ–‡æ¡£ç†è§£ï¼ˆè¡¨æ ¼ã€å›¾è¡¨ï¼‰

#### 6.5.2 æ‰©æ•£æ¨¡å‹ä¸å›¾åƒç”Ÿæˆ

**Stable Diffusionã€Midjourney** ç­‰ï¼š

| èƒ½åŠ› | è¯´æ˜ |
|-----|------|
| æ–‡ç”Ÿå›¾ | æ–‡å­—æè¿°â†’å›¾åƒ |
| å›¾ç”Ÿå›¾ | å›¾åƒå˜æ¢/é£æ ¼è¿ç§» |
| å›¾åƒä¿®å¤ | è¡¥å…¨ç¼ºå¤±éƒ¨åˆ† |
| å›¾åƒç¼–è¾‘ | å±€éƒ¨ä¿®æ”¹ |

#### 6.5.3 å…·èº«æ™ºèƒ½

**è§†è§‰+æœºå™¨äºº** çš„ç»“åˆï¼š

```
è§†è§‰æ„ŸçŸ¥ â†’ ç¯å¢ƒç†è§£ â†’ ä»»åŠ¡è§„åˆ’ â†’ åŠ¨ä½œæ‰§è¡Œ
    â†“           â†“           â†“           â†“
  çœ‹åˆ°ç‰©ä½“   ç†è§£åœºæ™¯     å†³å®šåšä»€ä¹ˆ   ç²¾ç¡®æ§åˆ¶
```

**åº”ç”¨ï¼š**
- å®¶åº­æœåŠ¡æœºå™¨äºº
- ä»“å‚¨ç‰©æµæœºå™¨äºº
- æ‰‹æœ¯æœºå™¨äºº

---

## ä¸ƒã€è®¡ç®—æœºè§†è§‰å­¦ä¹ è·¯çº¿å›¾

### 7.1 åŸºç¡€çŸ¥è¯†é˜¶æ®µ

```
æ•°å­¦åŸºç¡€ï¼š
â”œâ”€â”€ çº¿æ€§ä»£æ•°ï¼ˆçŸ©é˜µè¿ç®—ã€ç‰¹å¾å‘é‡ï¼‰
â”œâ”€â”€ æ¦‚ç‡è®ºä¸ç»Ÿè®¡ï¼ˆè´å¶æ–¯ã€åˆ†å¸ƒï¼‰
â””â”€â”€ å¾®ç§¯åˆ†ï¼ˆæ¢¯åº¦ã€é“¾å¼æ³•åˆ™ï¼‰

ç¼–ç¨‹åŸºç¡€ï¼š
â”œâ”€â”€ Python
â”œâ”€â”€ NumPy/Pandas
â”œâ”€â”€ OpenCV
â””â”€â”€ Matplotlib
```

### 7.2 æœºå™¨å­¦ä¹ é˜¶æ®µ

```
â”œâ”€â”€ æœºå™¨å­¦ä¹ åŸºç¡€
â”‚   â”œâ”€â”€ çº¿æ€§å›å½’/é€»è¾‘å›å½’
â”‚   â”œâ”€â”€ SVM
â”‚   â”œâ”€â”€ å†³ç­–æ ‘/éšæœºæ£®æ—
â”‚   â””â”€â”€ èšç±»ç®—æ³•
â”‚
â”œâ”€â”€ æ·±åº¦å­¦ä¹ åŸºç¡€
â”‚   â”œâ”€â”€ ç¥ç»ç½‘ç»œåŸç†
â”‚   â”œâ”€â”€ åå‘ä¼ æ’­
â”‚   â”œâ”€â”€ ä¼˜åŒ–ç®—æ³•ï¼ˆSGD, Adamï¼‰
â”‚   â””â”€â”€ æ­£åˆ™åŒ–
â”‚
â””â”€â”€ PyTorch/TensorFlowæ¡†æ¶
```

### 7.3 è®¡ç®—æœºè§†è§‰ä¸“é¡¹

```
â”œâ”€â”€ å›¾åƒå¤„ç†
â”‚   â”œâ”€â”€ æ»¤æ³¢/è¾¹ç¼˜æ£€æµ‹
â”‚   â”œâ”€â”€ ç›´æ–¹å›¾å¤„ç†
â”‚   â””â”€â”€ å½¢æ€å­¦æ“ä½œ
â”‚
â”œâ”€â”€ CNNåŸºç¡€
â”‚   â”œâ”€â”€ LeNet/AlexNet/VGG
â”‚   â”œâ”€â”€ ResNet/EfficientNet
â”‚   â””â”€â”€ è¿ç§»å­¦ä¹ 
â”‚
â”œâ”€â”€ ç›®æ ‡æ£€æµ‹
â”‚   â”œâ”€â”€ R-CNNç³»åˆ—
â”‚   â””â”€â”€ YOLOç³»åˆ—
â”‚
â”œâ”€â”€ è¯­ä¹‰åˆ†å‰²
â”‚   â”œâ”€â”€ FCN/U-Net
â”‚   â””â”€â”€ DeepLab/Mask R-CNN
â”‚
â””â”€â”€ äººè„¸è¯†åˆ«
    â”œâ”€â”€ äººè„¸æ£€æµ‹
    â””â”€â”€ äººè„¸ç‰¹å¾/æ¯”å¯¹
```

### 7.4 å‰æ²¿æ–¹å‘

```
â”œâ”€â”€ Transformer in Vision
â”‚   â”œâ”€â”€ Vision Transformer (ViT)
â”‚   â”œâ”€â”€ DETRï¼ˆTransformeræ£€æµ‹ï¼‰
â”‚   â””â”€â”€ å¤šæ¨¡æ€å¤§æ¨¡å‹
â”‚
â”œâ”€â”€ è‡ªç›‘ç£å­¦ä¹ 
â”‚   â”œâ”€â”€ MoCo
â”‚   â”œâ”€â”€ SimCLR
â”‚   â””â”€â”€ MAE
â”‚
â”œâ”€â”€ 3Dè§†è§‰
â”‚   â”œâ”€â”€ NeRF
â”‚   â”œâ”€â”€ ç‚¹äº‘å¤„ç†
â”‚   â””â”€â”€ SLAM
â”‚
â””â”€â”€ å…·èº«æ™ºèƒ½
    â”œâ”€â”€ è§†è§‰-è¯­è¨€-åŠ¨ä½œ
    â””â”€â”€ æœºå™¨äººå­¦ä¹ 
```

---

## å…«ã€å·¥å…·ä¸èµ„æºæ¨è

### 8.1 ç¼–ç¨‹å·¥å…·

| å·¥å…· | ç”¨é€” | æ¨èåº¦ |
|-----|------|-------|
| **PyTorch** | æ·±åº¦å­¦ä¹ æ¡†æ¶ | â­â­â­â­â­ |
| **OpenCV** | å›¾åƒå¤„ç† | â­â­â­â­â­ |
| **Ultralytics** | YOLOå®ç° | â­â­â­â­â­ |
| **face_recognition** | äººè„¸è¯†åˆ« | â­â­â­â­ |
| **MediaPipe** | è½»é‡çº§æ¨¡å‹ | â­â­â­â­ |
| **dlib** | ä¼ ç»ŸCVæ–¹æ³• | â­â­â­â­ |
| **MMDetection** | æ£€æµ‹æ¡†æ¶ | â­â­â­â­ |
| **Supervision** | æ£€æµ‹å·¥å…·åŒ… | â­â­â­â­ |

### 8.2 åœ¨çº¿è¯¾ç¨‹

| è¯¾ç¨‹ | å¹³å° | éš¾åº¦ |
|-----|------|-----|
| CS231n | Stanford | è¿›é˜¶ |
| CS224n | Stanford | è¿›é˜¶ |
| åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹  | Coursera | ä¸­çº§ |
| PyTorchå®˜æ–¹æ•™ç¨‹ | PyTorch | å…¥é—¨ |

### 8.3 è®ºæ–‡ä¸èµ„æº

| èµ„æº | è¯´æ˜ |
|-----|------|
| Papers With Code | è®ºæ–‡+ä»£ç å®ç° |
| ArXiv | æœ€æ–°è®ºæ–‡ |
| Hugging Face | é¢„è®­ç»ƒæ¨¡å‹ |
| CVPR/ICCV/ECCV | é¡¶çº§ä¼šè®® |

---

## ä¹ã€æ€»ç»“ä¸å±•æœ›

### 9.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾

1. **è®¡ç®—æœºè§†è§‰çš„æœ¬è´¨**ï¼šè®©æœºå™¨"çœ‹æ‡‚"ä¸–ç•Œï¼Œé€šè¿‡æ·±åº¦å­¦ä¹ ä»å›¾åƒä¸­æå–è¯­ä¹‰ä¿¡æ¯ã€‚

2. **CNNçš„æ ¸å¿ƒä»·å€¼**ï¼šé€šè¿‡å·ç§¯æ“ä½œè‡ªåŠ¨å­¦ä¹ å›¾åƒç‰¹å¾ï¼Œä»è¾¹ç¼˜åˆ°çº¹ç†å†åˆ°è¯­ä¹‰æ¦‚å¿µã€‚

3. **å®æ—¶æ€§çš„é‡è¦æ€§**ï¼šYOLOç­‰å•é˜¶æ®µæ£€æµ‹å™¨å®ç°äº†æ¯«ç§’çº§æ¨ç†ï¼Œæ¨åŠ¨äº†å®é™…åº”ç”¨è½åœ°ã€‚

4. **äººè„¸è¯†åˆ«çš„æµç¨‹**ï¼šæ£€æµ‹â†’å¯¹é½â†’ç¼–ç â†’æ¯”å¯¹ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½æœ‰æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆã€‚

### 9.2 æŠ€æœ¯å‘å±•è¶‹åŠ¿

| è¶‹åŠ¿ | è¯´æ˜ | å½±å“ |
|-----|------|-----|
| **å¤§æ¨¡å‹æ—¶ä»£** | å¤šæ¨¡æ€å¤§æ¨¡å‹ç»Ÿä¸€è§†è§‰ä»»åŠ¡ | ä¸€ä¸ªæ¨¡å‹è§£å†³æ‰€æœ‰é—®é¢˜ |
| **è‡ªç›‘ç£å­¦ä¹ ** | å‡å°‘å¯¹æ ‡æ³¨æ•°æ®çš„ä¾èµ– | é™ä½æˆæœ¬ï¼Œæé«˜æ³›åŒ– |
| **è¾¹ç¼˜éƒ¨ç½²** | æ¨¡å‹è½»é‡åŒ–ã€é‡åŒ–ã€è’¸é¦ | ç«¯ä¾§AIæ™®åŠ |
| **å…·èº«æ™ºèƒ½** | è§†è§‰ä¸æœºå™¨äººæ·±åº¦ç»“åˆ | AIèµ°å‡ºè™šæ‹Ÿä¸–ç•Œ |

### 9.3 å­¦ä¹ å»ºè®®

> **"ä¸è¦åªå­¦ç†è®ºï¼Œè¦åŠ¨æ‰‹å®è·µã€‚"**

1. **ä»é¡¹ç›®å‡ºå‘**ï¼šé€‰æ‹©æ„Ÿå…´è¶£çš„åº”ç”¨åœºæ™¯ï¼Œè¾¹åšè¾¹å­¦
2. **å¤ç°ç»å…¸**ï¼šä»LeNetåˆ°ResNetï¼Œäº²æ‰‹å®ç°
3. **å‚ä¸ç«èµ›**ï¼šKaggleã€å¤©æ± ç­‰å¹³å°ç§¯ç´¯ç»éªŒ
4. **é˜…è¯»è®ºæ–‡**ï¼šè·Ÿè¸ªå‰æ²¿ï¼Œä¿æŒæ•æ„Ÿ
5. **å¼€æºè´¡çŒ®**ï¼šå‚ä¸é¡¹ç›®ï¼Œæå‡å½±å“åŠ›

---

## é™„å½•ï¼šæ ¸å¿ƒä»£ç ç´¢å¼•

| æ–‡ä»¶ | åŠŸèƒ½ | ä½ç½® |
|-----|------|------|
| `face_monitor.py` | äººè„¸è¯†åˆ«å®ˆæŠ¤è¿›ç¨‹ | ~/.openclaw/workspace/ |
| `face_encoding.py` | äººè„¸ç¼–ç ç”Ÿæˆ | ~/.openclaw/workspace/ |
| `video_server.py` | è§†é¢‘æµæœåŠ¡å™¨ | ~/VideoServer4VM/ |
| `register_face.py` | äººè„¸æ³¨å†Œè„šæœ¬ | æ•™å­¦ç¤ºä¾‹ |

---

## å‚è€ƒèµ„æ–™

1. He, K., et al. (2016). "Deep Residual Learning for Image Recognition." CVPR.
2. Redmon, J., et al. (2016). "You Only Look Once: Unified, Real-Time Object Detection." CVPR.
3. Schroff, F., et al. (2015). "FaceNet: A Unified Embedding for Face Recognition and Clustering." CVPR.
4. Dosovitskiy, A., et al. (2020). "An Image is Worth 16x16 Words: Transformers for Image Recognition at Scale." ICLR.
5. Ronneberger, O., et al. (2015). "U-Net: Convolutional Networks for Biomedical Image Segmentation." MICCAI.

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.1  
**åˆ›å»ºæ—¥æœŸ**: 2026-02-16  
**æ›´æ–°æ—¥æœŸ**: 2026-02-16  
**ä½œè€…**: Maggie AI Assistant

